document.addEventListener("DOMContentLoaded",(()=>{var e;(e=document.documentElement).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen();let t=document.getElementById("tables_wrapper"),n=(document.getElementById("home-main"),document.getElementById("button-home-send")),s=document.getElementById("finding-recipient"),a=document.getElementById("button-back-finding-recipient"),i=document.getElementById("input-search-recipient"),c=document.getElementById("name-recipient"),l=document.getElementById("logo-recipient"),d=document.getElementById("select-total-sum"),r=document.getElementById("back-to-finding-page"),m=document.getElementById("input-amount-values"),o=document.getElementById("button-open-modal-payment"),u=document.getElementById("modal-payment"),v=document.getElementById("total-sum-to-sending"),g=document.getElementById("button-close-modal-payment"),y=document.getElementById("button-send-to-recipient"),L=document.getElementById("button-done"),E=document.getElementById("modal-success"),I=document.getElementById("successes_total_sum"),p=document.getElementById("info-name-recipient");let B=JSON.parse(localStorage.getItem("users"));const S=()=>{JSON.parse(localStorage.getItem("users")).map((e=>{const n=`\n        <div class="tables-item">\n          <div class="item-headers">\n            <div class="user-avatar">\n              <img src="./src/user.png" alt="${e.userName}" />\n            </div>\n            <div class="user-info">\n              <div class="user-name">${e.userName}</div>\n              <div class="user-data">${function(e){const[t,n,s]=e.split("."),a=new Date(`${s}-${n}-${t}`);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(a)}(e.date)}</div>\n            </div>\n          </div>\n          <div class="info-container">\n            <div class="title-name">Payment</div>\n            <div class="title-value">-${s=e.sum,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(s)}</div>\n          </div>\n        </div>\n      `;var s;t.insertAdjacentHTML("afterbegin",n)}))};B&&S(),n.addEventListener("click",(()=>{s.classList.add("active")})),a.addEventListener("click",(()=>{s.classList.add("hidden"),setTimeout((()=>{s.classList.remove("hidden"),s.classList.remove("active")}),500)}));document.getElementById("total-balance");let b=95454;const f=()=>{const e=parseFloat(b),t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e);document.getElementById("total-balance").innerHTML=t};f();const F={userLogo:"",userName:"",sum:"",date:""};function D(e){return e.split(" ").map((e=>e.charAt(0))).join("")}i.addEventListener("focusout",(e=>{e.preventDefault();const t=D(i.value);c.innerHTML=i.value,l.innerHTML=t,F.userName=i.value,F.userLogo=t,d.classList.add("active")})),i.addEventListener("keydown",(e=>{if("Enter"===e.key){e.preventDefault();const t=D(i.value);c.innerHTML=i.value,l.innerHTML=t,F.userName=i.value,F.userLogo=t,d.classList.add("active")}})),r.addEventListener("click",(()=>{d.classList.add("hidden"),setTimeout((()=>{d.classList.remove("hidden"),d.classList.remove("active")}),500)})),o.addEventListener("click",(()=>{F.sum=m.value;const e=parseFloat(m.value),t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e);v.innerHTML=t+" USD",u.classList.add("active")})),g.addEventListener("click",(()=>{u.classList.add("hidden"),setTimeout((()=>{u.classList.remove("hidden"),u.classList.remove("active")}),500)})),y.addEventListener("click",(()=>{F.date=(new Date).toLocaleDateString(),function(e){let t=JSON.parse(localStorage.getItem("users"))||[];t.push(e),localStorage.setItem("users",JSON.stringify(t))}(F);let e=F.sum;b-=e,E.classList.add("active"),F.sum=m.value;const t=parseFloat(m.value),n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t);return I.innerHTML=n+" USD",p.innerHTML=`Has been send to ${F.userName} from your PayPal balance.`,f()})),L.addEventListener("click",(()=>{S(),E.classList.remove("active"),u.classList.remove("active"),d.classList.remove("active"),s.classList.remove("active")}))}));